"use strict";(globalThis.webpackChunkrbac_algorithm_docs=globalThis.webpackChunkrbac_algorithm_docs||[]).push([[5264],{1470(e,i,n){n.d(i,{A:()=>r});const r=n.p+"assets/images/architecture-diagram-d33ee974c6a51fd7c72bbc36092c1e4b.svg"},3308(e,i,n){n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"advanced/architecture","title":"Architecture","description":"System Architecture Diagram","source":"@site/docs/advanced/architecture.md","sourceDirName":"advanced","slug":"/advanced/architecture","permalink":"/RBAC-algorithm/docs/advanced/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/rbac-algorithm/tree/main/docs/docs/advanced/architecture.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"csharp.Value.ToUpper()sharp","permalink":"/RBAC-algorithm/docs/adapters/csharp"},"next":{"title":"extending.Value.ToUpper()xtending","permalink":"/RBAC-algorithm/docs/advanced/extending"}}');var s=n(4848),t=n(8453);const l={sidebar_position:1},c="Architecture",a={},o=[{value:"System Architecture Diagram",id:"system-architecture-diagram",level:2},{value:"Overview",id:"overview",level:2},{value:"Architecture Layers",id:"architecture-layers",level:2},{value:"1. Application Layer",id:"1-application-layer",level:3},{value:"2. Protocol Layer",id:"2-protocol-layer",level:3},{value:"3. Implementation Layer",id:"3-implementation-layer",level:3},{value:"4. Data Models",id:"4-data-models",level:3},{value:"5. Storage Backends",id:"5-storage-backends",level:3},{value:"Key Design Principles",id:"key-design-principles",level:2},{value:"Protocol-Based Design",id:"protocol-based-design",level:3},{value:"Multi-Tenancy First",id:"multi-tenancy-first",level:3},{value:"Performance Optimized",id:"performance-optimized",level:3},{value:"Security by Default",id:"security-by-default",level:3},{value:"Extension Points",id:"extension-points",level:2},{value:"Custom Storage Backend",id:"custom-storage-backend",level:3},{value:"Custom Policy Evaluator",id:"custom-policy-evaluator",level:3},{value:"Custom Authorization Engine",id:"custom-authorization-engine",level:3},{value:"Learn More",id:"learn-more",level:2}];function d(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"architecture",children:"Architecture"})}),"\n",(0,s.jsx)(i.h2,{id:"system-architecture-diagram",children:"System Architecture Diagram"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"RBAC Architecture",src:n(1470).A+""})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsxs)(i.em,{children:["\u2728 Enhanced architecture diagram with colorful icons, modern design, and 96% code-verified accuracy. Shows all 5 layers with clear relationships, implementation status, and feature highlights. ",(0,s.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(9465).A+"",children:"Edit in diagrams.net"})]})}),"\n",(0,s.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(i.p,{children:"RBAC Algorithm uses a layered, protocol-based architecture designed for:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Language Agnostic"}),": Works with any programming language"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Extensible Storage"}),": Plug in any backend (SQL, NoSQL, Cloud, Custom)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Enterprise Grade"}),": Multi-tenancy, role hierarchies, ABAC support"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Clean Architecture"}),": Clear separation of concerns"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"architecture-layers",children:"Architecture Layers"}),"\n",(0,s.jsx)(i.h3,{id:"1-application-layer",children:"1. Application Layer"}),"\n",(0,s.jsx)(i.p,{children:"Your application interacts with the RBAC system through the main API:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"RBAC"})," class - Primary entry point"]}),"\n",(0,s.jsx)(i.li,{children:"Batch operations for bulk processing"}),"\n",(0,s.jsx)(i.li,{children:"Multi-tenant domain isolation"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"2-protocol-layer",children:"2. Protocol Layer"}),"\n",(0,s.jsx)(i.p,{children:"Language-agnostic interfaces that define contracts:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"IStorageProvider"})," - CRUD + indexes + batch operations"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"IAuthorizationEngine"})," - Permission checks and context evaluation"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"IRoleHierarchyResolver"})," - Role inheritance and DAG validation"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"IPolicyEvaluator"})," - ABAC rules with 12 operators"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"3-implementation-layer",children:"3. Implementation Layer"}),"\n",(0,s.jsx)(i.p,{children:"Concrete implementations of protocol interfaces:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"MemoryStorage"})," - In-memory storage (750+ lines)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"AuthEngine"})," - Authorization engine (540+ lines)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"HierarchyResolver"})," - Role hierarchy (390+ lines)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"PolicyEvaluator"})," - ABAC engine (380+ lines)"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"4-data-models",children:"4. Data Models"}),"\n",(0,s.jsx)(i.p,{children:"Core entities with domain isolation:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"User"})," - User entity"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Role"})," - Role with permissions"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Permission"})," - Action + resource pattern"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"Resource"})," - Protected resource"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"RoleAssignment"})," - User-role mapping"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"RoleInheritance"})," - Role hierarchy"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"5-storage-backends",children:"5. Storage Backends"}),"\n",(0,s.jsx)(i.p,{children:"Extensible storage layer:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"SQL databases (PostgreSQL, MySQL)"}),"\n",(0,s.jsx)(i.li,{children:"NoSQL databases (MongoDB, DynamoDB)"}),"\n",(0,s.jsx)(i.li,{children:"Cloud storage (S3, Azure Blob)"}),"\n",(0,s.jsxs)(i.li,{children:["Custom backends (implement ",(0,s.jsx)(i.code,{children:"IStorageProvider"}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"key-design-principles",children:"Key Design Principles"}),"\n",(0,s.jsx)(i.h3,{id:"protocol-based-design",children:"Protocol-Based Design"}),"\n",(0,s.jsx)(i.p,{children:"All core functionality is defined as protocols (interfaces), allowing:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Easy testing with mocks"}),"\n",(0,s.jsx)(i.li,{children:"Multiple implementations"}),"\n",(0,s.jsx)(i.li,{children:"Language portability"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"multi-tenancy-first",children:"Multi-Tenancy First"}),"\n",(0,s.jsxs)(i.p,{children:["Every entity includes a ",(0,s.jsx)(i.code,{children:"domain"})," field for organization isolation:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:'user = User(id="user1", domain="acme-corp")\r\nrole = Role(id="admin", domain="acme-corp")\n'})}),"\n",(0,s.jsx)(i.h3,{id:"performance-optimized",children:"Performance Optimized"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Indexed lookups for fast queries"}),"\n",(0,s.jsx)(i.li,{children:"Batch operations to reduce round trips"}),"\n",(0,s.jsx)(i.li,{children:"Caching support in storage layer"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"security-by-default",children:"Security by Default"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Domain isolation prevents cross-tenant access"}),"\n",(0,s.jsx)(i.li,{children:"Explicit permission checks (deny by default)"}),"\n",(0,s.jsx)(i.li,{children:"Audit trail support"}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"extension-points",children:"Extension Points"}),"\n",(0,s.jsx)(i.h3,{id:"custom-storage-backend",children:"Custom Storage Backend"}),"\n",(0,s.jsxs)(i.p,{children:["Implement ",(0,s.jsx)(i.code,{children:"IStorageProvider"})," to use your preferred database:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:"class PostgresStorage(IStorageProvider):\r\n    def create_user(self, user: User) -> User:\r\n        # Your implementation\n"})}),"\n",(0,s.jsx)(i.h3,{id:"custom-policy-evaluator",children:"Custom Policy Evaluator"}),"\n",(0,s.jsxs)(i.p,{children:["Extend ",(0,s.jsx)(i.code,{children:"IPolicyEvaluator"})," for custom business rules:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:"class CustomEvaluator(IPolicyEvaluator):\r\n    def evaluate(self, condition: Dict, context: Dict) -> bool:\r\n        # Your custom logic\n"})}),"\n",(0,s.jsx)(i.h3,{id:"custom-authorization-engine",children:"Custom Authorization Engine"}),"\n",(0,s.jsx)(i.p,{children:"Replace the entire authorization logic if needed:"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-python",children:"class CustomEngine(IAuthorizationEngine):\r\n    def check_permission(self, user_id: str, action: str, resource_id: str, domain: str) -> bool:\r\n        # Your implementation\n"})}),"\n",(0,s.jsx)(i.h2,{id:"learn-more",children:"Learn More"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://github.com/yourusername/rbac-algorithm/blob/main/documentation/architecture/PROTOCOL.md",children:"Protocol Specification"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://github.com/yourusername/rbac-algorithm/blob/main/documentation/architecture/ADAPTERS.md",children:"Adapter Guidelines"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"/docs/api/overview",children:"API Reference"})}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,i,n){n.d(i,{R:()=>l,x:()=>c});var r=n(6540);const s={},t=r.createContext(s);function l(e){const i=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:i},e.children)}},9465(e,i,n){n.d(i,{A:()=>r});const r=n.p+"assets/files/architecture-diagram-71ac0cf0a3f3999a288513b74e26f981.drawio"}}]);