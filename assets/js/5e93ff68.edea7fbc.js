"use strict";(globalThis.webpackChunkrbac_algorithm_docs=globalThis.webpackChunkrbac_algorithm_docs||[]).push([[4471],{8453(e,r,n){n.d(r,{R:()=>o,x:()=>a});var i=n(6540);const s={},t=i.createContext(s);function o(e){const r=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:r},e.children)}},9378(e,r,n){n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"getting-started/first-app","title":"Build Your First App","description":"Build a complete document management system with RBAC in 15 minutes.","source":"@site/docs/getting-started/first-app.md","sourceDirName":"getting-started","slug":"/getting-started/first-app","permalink":"/RBAC-algorithm/docs/getting-started/first-app","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/rbac-algorithm/tree/main/docs/docs/getting-started/first-app.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/RBAC-algorithm/docs/getting-started/quick-start"},"next":{"title":"Core Concepts Overview","permalink":"/RBAC-algorithm/docs/concepts/overview"}}');var s=n(4848),t=n(8453);const o={sidebar_position:3},a="Build Your First App",c={},d=[{value:"Project Overview",id:"project-overview",level:2},{value:"Step 1: Project Setup",id:"step-1-project-setup",level:2},{value:"Step 2: Define Permissions",id:"step-2-define-permissions",level:2},{value:"Step 3: Create Role Hierarchy",id:"step-3-create-role-hierarchy",level:2},{value:"Step 4: Create Users",id:"step-4-create-users",level:2},{value:"Step 5: Assign Roles",id:"step-5-assign-roles",level:2},{value:"Step 6: Create Documents",id:"step-6-create-documents",level:2},{value:"Step 7: Test Authorization",id:"step-7-test-authorization",level:2},{value:"Step 8: View User Permissions",id:"step-8-view-user-permissions",level:2},{value:"Complete Code",id:"complete-code",level:2},{value:"Run the Application",id:"run-the-application",level:2},{value:"What You Learned",id:"what-you-learned",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"build-your-first-app",children:"Build Your First App"})}),"\n",(0,s.jsx)(r.p,{children:"Build a complete document management system with RBAC in 15 minutes."}),"\n",(0,s.jsx)(r.h2,{id:"project-overview",children:"Project Overview"}),"\n",(0,s.jsx)(r.p,{children:"We'll build a document management system where:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Viewers"})," can read documents"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Authors"})," can create and edit their own documents"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Editors"})," can edit any document in their department"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Admins"})," have full access"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"step-1-project-setup",children:"Step 1: Project Setup"}),"\n",(0,s.jsx)(r.p,{children:"Create a new project:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"mkdir my-rbac-app\r\ncd my-rbac-app\r\npip install rbac-algorithm\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Create ",(0,s.jsx)(r.code,{children:"app.py"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'from rbac import RBAC\r\nfrom datetime import datetime\r\n\r\n# Initialize RBAC\r\nrbac = RBAC()\r\n\r\nprint("\u2713 RBAC initialized")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"step-2-define-permissions",children:"Step 2: Define Permissions"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'# Document permissions\r\npermissions = {\r\n    "read": rbac.create_permission(\r\n        permission_id="perm_doc_read",\r\n        action="read",\r\n        resource_type="document",\r\n        description="Read documents"\r\n    ),\r\n    "create": rbac.create_permission(\r\n        permission_id="perm_doc_create",\r\n        action="create",\r\n        resource_type="document",\r\n        description="Create new documents"\r\n    ),\r\n    "edit_own": rbac.create_permission(\r\n        permission_id="perm_doc_edit_own",\r\n        action="edit",\r\n        resource_type="document",\r\n        description="Edit own documents",\r\n        conditions=[\r\n            {"field": "resource.author_id", "operator": "==", "value": "{{user.id}}"}\r\n        ]\r\n    ),\r\n    "edit_any": rbac.create_permission(\r\n        permission_id="perm_doc_edit_any",\r\n        action="edit",\r\n        resource_type="document",\r\n        description="Edit any document"\r\n    ),\r\n    "delete": rbac.create_permission(\r\n        permission_id="perm_doc_delete",\r\n        action="delete",\r\n        resource_type="document",\r\n        description="Delete documents"\r\n    )\r\n}\r\n\r\nprint(f"\u2713 Created {len(permissions)} permissions")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"step-3-create-role-hierarchy",children:"Step 3: Create Role Hierarchy"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'# Viewer role - can only read\r\nviewer = rbac.create_role(\r\n    role_id="role_viewer",\r\n    name="Viewer",\r\n    description="Can read documents"\r\n)\r\nrbac.assign_permission_to_role("role_viewer", "perm_doc_read")\r\n\r\n# Author role - inherits Viewer, can create and edit own\r\nauthor = rbac.create_role(\r\n    role_id="role_author",\r\n    name="Author",\r\n    description="Can create and edit own documents",\r\n    parent_id="role_viewer"  # Inherits read permission\r\n)\r\nrbac.assign_permission_to_role("role_author", "perm_doc_create")\r\nrbac.assign_permission_to_role("role_author", "perm_doc_edit_own")\r\n\r\n# Editor role - inherits Author, can edit any\r\neditor = rbac.create_role(\r\n    role_id="role_editor",\r\n    name="Editor",\r\n    description="Can edit any document",\r\n    parent_id="role_author"  # Inherits all Author permissions\r\n)\r\nrbac.assign_permission_to_role("role_editor", "perm_doc_edit_any")\r\n\r\n# Admin role - inherits Editor, can delete\r\nadmin = rbac.create_role(\r\n    role_id="role_admin",\r\n    name="Administrator",\r\n    description="Full document access",\r\n    parent_id="role_editor"  # Inherits all Editor permissions\r\n)\r\nrbac.assign_permission_to_role("role_admin", "perm_doc_delete")\r\n\r\nprint("\u2713 Created role hierarchy: Viewer \u2192 Author \u2192 Editor \u2192 Admin")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"step-4-create-users",children:"Step 4: Create Users"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'users = {\r\n    "alice": rbac.create_user(\r\n        user_id="user_alice",\r\n        email="alice@example.com",\r\n        name="Alice Johnson",\r\n        attributes={"department": "engineering"}\r\n    ),\r\n    "bob": rbac.create_user(\r\n        user_id="user_bob",\r\n        email="bob@example.com",\r\n        name="Bob Smith",\r\n        attributes={"department": "engineering"}\r\n    ),\r\n    "carol": rbac.create_user(\r\n        user_id="user_carol",\r\n        email="carol@example.com",\r\n        name="Carol Williams",\r\n        attributes={"department": "marketing"}\r\n    ),\r\n    "dave": rbac.create_user(\r\n        user_id="user_dave",\r\n        email="dave@example.com",\r\n        name="Dave Brown",\r\n        attributes={"department": "engineering"}\r\n    )\r\n}\r\n\r\nprint(f"\u2713 Created {len(users)} users")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"step-5-assign-roles",children:"Step 5: Assign Roles"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'# Alice - Viewer\r\nrbac.assign_role_to_user("user_alice", "role_viewer")\r\n\r\n# Bob - Author\r\nrbac.assign_role_to_user("user_bob", "role_author")\r\n\r\n# Carol - Editor\r\nrbac.assign_role_to_user("user_carol", "role_editor")\r\n\r\n# Dave - Admin\r\nrbac.assign_role_to_user("user_dave", "role_admin")\r\n\r\nprint("\u2713 Assigned roles to users")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"step-6-create-documents",children:"Step 6: Create Documents"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'documents = {\r\n    "doc1": rbac.create_resource(\r\n        resource_id="resource_doc_001",\r\n        resource_type="document",\r\n        attributes={\r\n            "title": "Engineering Guide",\r\n            "author_id": "user_bob",\r\n            "department": "engineering",\r\n            "status": "published"\r\n        }\r\n    ),\r\n    "doc2": rbac.create_resource(\r\n        resource_id="resource_doc_002",\r\n        resource_type="document",\r\n        attributes={\r\n            "title": "Marketing Strategy",\r\n            "author_id": "user_carol",\r\n            "department": "marketing",\r\n            "status": "draft"\r\n        }\r\n    )\r\n}\r\n\r\nprint(f"\u2713 Created {len(documents)} documents")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"step-7-test-authorization",children:"Step 7: Test Authorization"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'def test_access(user_id, user_name, action, resource_id, doc_title):\r\n    """Test if a user can perform an action on a resource."""\r\n    result = rbac.check_permission_detailed(\r\n        user_id=user_id,\r\n        action=action,\r\n        resource_id=resource_id\r\n    )\r\n    \r\n    status = "\u2713 ALLOWED" if result.allowed else "\u2717 DENIED"\r\n    print(f"{status}: {user_name} trying to {action} \'{doc_title}\'")\r\n    if result.allowed:\r\n        print(f"         Reason: {result.reason}")\r\n    return result.allowed\r\n\r\nprint("\\n" + "="*70)\r\nprint("TESTING AUTHORIZATION")\r\nprint("="*70)\r\n\r\n# Test 1: Can Alice (Viewer) read documents?\r\nprint("\\n1. Viewer Access:")\r\ntest_access("user_alice", "Alice", "read", "resource_doc_001", "Engineering Guide")\r\ntest_access("user_alice", "Alice", "edit", "resource_doc_001", "Engineering Guide")\r\n\r\n# Test 2: Can Bob (Author) edit his own document?\r\nprint("\\n2. Author Access (Own Document):")\r\ntest_access("user_bob", "Bob", "read", "resource_doc_001", "Engineering Guide")\r\ntest_access("user_bob", "Bob", "edit", "resource_doc_001", "Engineering Guide")\r\n\r\n# Test 3: Can Bob edit someone else\'s document?\r\nprint("\\n3. Author Access (Others\' Document):")\r\ntest_access("user_bob", "Bob", "edit", "resource_doc_002", "Marketing Strategy")\r\n\r\n# Test 4: Can Carol (Editor) edit any document?\r\nprint("\\n4. Editor Access:")\r\ntest_access("user_carol", "Carol", "edit", "resource_doc_001", "Engineering Guide")\r\ntest_access("user_carol", "Carol", "edit", "resource_doc_002", "Marketing Strategy")\r\n\r\n# Test 5: Can Dave (Admin) delete documents?\r\nprint("\\n5. Admin Access:")\r\ntest_access("user_dave", "Dave", "delete", "resource_doc_001", "Engineering Guide")\r\ntest_access("user_dave", "Dave", "delete", "resource_doc_002", "Marketing Strategy")\r\n\r\n# Test 6: Can Bob delete documents?\r\nprint("\\n6. Author Cannot Delete:")\r\ntest_access("user_bob", "Bob", "delete", "resource_doc_001", "Engineering Guide")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"step-8-view-user-permissions",children:"Step 8: View User Permissions"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'def show_user_permissions(user_id, user_name):\r\n    """Display all permissions for a user."""\r\n    roles = rbac.get_user_roles(user_id)\r\n    permissions = rbac.get_user_permissions(user_id)\r\n    \r\n    print(f"\\n{user_name}\'s Access:")\r\n    print(f"  Roles: {\', \'.join([r.name for r in roles])}")\r\n    print(f"  Total Permissions: {len(permissions)}")\r\n    for perm in permissions:\r\n        print(f"    - {perm.action} on {perm.resource_type}")\r\n\r\nprint("\\n" + "="*70)\r\nprint("USER PERMISSIONS SUMMARY")\r\nprint("="*70)\r\n\r\nshow_user_permissions("user_alice", "Alice (Viewer)")\r\nshow_user_permissions("user_bob", "Bob (Author)")\r\nshow_user_permissions("user_carol", "Carol (Editor)")\r\nshow_user_permissions("user_dave", "Dave (Admin)")\n'})}),"\n",(0,s.jsx)(r.h2,{id:"complete-code",children:"Complete Code"}),"\n",(0,s.jsxs)(r.p,{children:["Here's the full ",(0,s.jsx)(r.code,{children:"app.py"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'from rbac import RBAC\r\n\r\ndef main():\r\n    # Initialize\r\n    rbac = RBAC()\r\n    print("\u2713 RBAC initialized\\n")\r\n    \r\n    # Create permissions\r\n    permissions = ["read", "create", "edit_own", "edit_any", "delete"]\r\n    for perm in permissions:\r\n        if perm == "edit_own":\r\n            rbac.create_permission(\r\n                permission_id=f"perm_doc_{perm}",\r\n                action="edit",\r\n                resource_type="document",\r\n                conditions=[{"field": "resource.author_id", "operator": "==", "value": "{{user.id}}"}]\r\n            )\r\n        else:\r\n            action = perm.replace("_any", "").replace("_own", "")\r\n            rbac.create_permission(\r\n                permission_id=f"perm_doc_{perm}",\r\n                action=action,\r\n                resource_type="document"\r\n            )\r\n    print(f"\u2713 Created {len(permissions)} permissions\\n")\r\n    \r\n    # Create role hierarchy\r\n    rbac.create_role("role_viewer", "Viewer")\r\n    rbac.assign_permission_to_role("role_viewer", "perm_doc_read")\r\n    \r\n    rbac.create_role("role_author", "Author", parent_id="role_viewer")\r\n    rbac.assign_permission_to_role("role_author", "perm_doc_create")\r\n    rbac.assign_permission_to_role("role_author", "perm_doc_edit_own")\r\n    \r\n    rbac.create_role("role_editor", "Editor", parent_id="role_author")\r\n    rbac.assign_permission_to_role("role_editor", "perm_doc_edit_any")\r\n    \r\n    rbac.create_role("role_admin", "Administrator", parent_id="role_editor")\r\n    rbac.assign_permission_to_role("role_admin", "perm_doc_delete")\r\n    print("\u2713 Created role hierarchy\\n")\r\n    \r\n    # Create users and assign roles\r\n    users = [\r\n        ("user_alice", "alice@example.com", "Alice Johnson", "role_viewer"),\r\n        ("user_bob", "bob@example.com", "Bob Smith", "role_author"),\r\n        ("user_carol", "carol@example.com", "Carol Williams", "role_editor"),\r\n        ("user_dave", "dave@example.com", "Dave Brown", "role_admin"),\r\n    ]\r\n    \r\n    for user_id, email, name, role in users:\r\n        rbac.create_user(user_id, email, name)\r\n        rbac.assign_role_to_user(user_id, role)\r\n    print(f"\u2713 Created {len(users)} users\\n")\r\n    \r\n    # Create documents\r\n    rbac.create_resource("resource_doc_001", "document", \r\n                        attributes={"author_id": "user_bob", "title": "Engineering Guide"})\r\n    rbac.create_resource("resource_doc_002", "document",\r\n                        attributes={"author_id": "user_carol", "title": "Marketing Strategy"})\r\n    print("\u2713 Created 2 documents\\n")\r\n    \r\n    # Test access\r\n    print("="*70)\r\n    print("AUTHORIZATION TESTS")\r\n    print("="*70 + "\\n")\r\n    \r\n    tests = [\r\n        ("user_alice", "Alice (Viewer)", "read", "resource_doc_001", "Should ALLOW"),\r\n        ("user_alice", "Alice (Viewer)", "edit", "resource_doc_001", "Should DENY"),\r\n        ("user_bob", "Bob (Author)", "edit", "resource_doc_001", "Should ALLOW (own doc)"),\r\n        ("user_bob", "Bob (Author)", "edit", "resource_doc_002", "Should DENY (not owner)"),\r\n        ("user_carol", "Carol (Editor)", "edit", "resource_doc_001", "Should ALLOW"),\r\n        ("user_dave", "Dave (Admin)", "delete", "resource_doc_001", "Should ALLOW"),\r\n    ]\r\n    \r\n    for user_id, user_name, action, resource_id, expectation in tests:\r\n        result = rbac.check_permission(user_id, action, resource_id)\r\n        status = "\u2713" if result.allowed else "\u2717"\r\n        print(f"{status} {user_name} {action} - {expectation}")\r\n    \r\n    print("\\n\u2713 Application complete!")\r\n\r\nif __name__ == "__main__":\r\n    main()\n'})}),"\n",(0,s.jsx)(r.h2,{id:"run-the-application",children:"Run the Application"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"python app.py\n"})}),"\n",(0,s.jsx)(r.p,{children:"Expected output:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"\u2713 RBAC initialized\r\n\u2713 Created 5 permissions\r\n\u2713 Created role hierarchy\r\n\u2713 Created 4 users\r\n\u2713 Created 2 documents\r\n\r\n======================================================================\r\nAUTHORIZATION TESTS\r\n======================================================================\r\n\r\n\u2713 Alice (Viewer) read - Should ALLOW\r\n\u2717 Alice (Viewer) edit - Should DENY\r\n\u2713 Bob (Author) edit - Should ALLOW (own doc)\r\n\u2717 Bob (Author) edit - Should DENY (not owner)\r\n\u2713 Carol (Editor) edit - Should ALLOW\r\n\u2713 Dave (Admin) delete - Should ALLOW\r\n\r\n\u2713 Application complete!\n"})}),"\n",(0,s.jsx)(r.h2,{id:"what-you-learned",children:"What You Learned"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"\u2705 Creating permissions with conditions (ABAC)"}),"\n",(0,s.jsx)(r.li,{children:"\u2705 Building role hierarchies with inheritance"}),"\n",(0,s.jsx)(r.li,{children:"\u2705 Assigning roles to users"}),"\n",(0,s.jsx)(r.li,{children:"\u2705 Checking permissions programmatically"}),"\n",(0,s.jsx)(r.li,{children:"\u2705 Testing authorization scenarios"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\ud83d\udcca ",(0,s.jsx)(r.a,{href:"/docs/guides/hierarchical-roles",children:"Role Hierarchies"})," - Advanced inheritance"]}),"\n",(0,s.jsxs)(r.li,{children:["\ud83d\udd10 ",(0,s.jsx)(r.a,{href:"/docs/guides/attribute-based",children:"ABAC Guide"})," - Complex conditions"]}),"\n",(0,s.jsxs)(r.li,{children:["\ud83c\udfe2 ",(0,s.jsx)(r.a,{href:"/docs/guides/multi-tenant",children:"Multi-Tenancy"})," - SaaS applications"]}),"\n",(0,s.jsxs)(r.li,{children:["\ud83d\udcbe ",(0,s.jsx)(r.a,{href:"/docs/guides/custom-storage",children:"Custom Storage"})," - Database backends"]}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);